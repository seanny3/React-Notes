# [1] 리액트 시작

생성일: 2021년 12월 29일 오후 2:14

## 리액트 이해

리액트는 자바스크립트 라이브러리로 사용자 인터페이스를 만드는 데 사용한다. 구조가 MVC, MVW 등인 프레임워크와 달리, **오직 V(View)만 신경 쓰는 라이브러리**입니다.

리액트 프로젝트에서 특정 부분이 어떻게 생길지 정하는 선언체가 있는데, 이를 **컴포넌트**라고 한다. 컴포넌트는 재사용이 가능한 API로 수많은 기능들을 내장하고 있으며, 컴포넌트 하나에서 해당 컴포넌트의 생김새와 작동 방식을 정의한다.

사용자 화면에 뷰를 보여 주는 것을 **렌더링**이고 한다. 리액트 라이브러리는 뷰를 렌더링하면 데이터가 변할 때마다 새롭게 리렌더링하면서 성능을 아끼고, 최적의 사용자 경험을 제공할 수 있다.

### 초기 렌더링

어떤 UI 관련 프레임워크, 라이브러리를 사용하든지 간에 맨 처음 어떻게 보일지를 정하는 **초기 렌더링**이 필요하다. 

`render() {...}`

이 함수는 컴포넌트가 어떻게 생겼는지 정의하는 역할을 한다. 이 함수는 html 형식의 문자열을 반환하지 않고, 뷰가 어떻게 생겼고 어떻게 작동하는지에 대한 정보를 지닌 객체를 반환한다. 컴포넌트 내부에는 또 다른 컴포넌트들이 들어갈 수 있다. 이때 `render` 함수를 실행하면 그 내부에 있는 컴포넌트들도 재귀적으로 렌더링한다.

최상위 컴포넌트의 렌더링 작업이 끝나면 지니고 있는 정보들을 사용하여 HTML 마크업을 만들고, 이를 우리가 정하는 실제 페이지의 DOM 요소 안에 주입한다.

### 조화 과정

리액트에서 뷰를 업데이트할 때는 “업데이트 과정을 거친다”라고 하기보다 **“조화 과정을 거친다”**라고 하는 것이 더 정확한 표현이다. 컴포넌트에서 데이터 변화가 있을 때 우리가 보기에는 변화에 따라 뷰가 변형되는 것처럼 보이지만, 사실은 새로운 요소로 갈아 끼우기 때문이다.

컴포넌트는 데이터를 업데이트했을 때 단순히 업데이트한 값을 수정하는 것이 아니라, 새로운 데이터를 가지고 `render` 함수를 또 다시 호출한다. 그러면 그 데이터를 지닌 뷰를 생성해 낸다.

이때 `render` 함수가 반환하는 결과를 곧바로 DOM에 반영하지 않고, 이전에 `render` 함수가 만들었던 컴포넌트 정보와 현재 `render` 함수가 만든 컴포넌트 정보를 비교하여 둘의 차이를 알아내 최소한의 연산으로 DOM 트리를 업데이트한다.

## 리액트의 특징

---

### DOM

**DOM**은 객체로 문서 구조를 표현하는 방법으로 XML이나 HTML로 작성한다. 웹 브라우저는 DOM을 활용하여 객체에 자바스크립트와 CSS를 적용한다. DOM은 트리 형태라서 특정 노드를 찾거나 수정하거나 제거하거나 원하는 곳에 삽입할 수 있다.

요즘 DOM API를 수많은 플랫폼과 웹 브라우저에서 사용하지만 동적 UI에 최적화되어 있지 않다는 문제점이 있다.

트위터나 페이스북과 같이 스크롤바를 내릴수록 수많은 데이터를 로딩해야 하는 웹 애플리케이션들은 데이터를 표현하는 각 요소들의 개수가 몇 백, 몇 천 단위로 존재한다. 이렇게 규모가 큰 웹 애플리케이션에서 DOM에 직접 접근하여 변화를 주다 보면 성능 이슈가 조금씩 발생하기 시작한다. DOM 자체가 느리다는 것이 아니라, 웹 브라우저 단에서 DOM에 변화가 일어나면 웹 브라우저가 CSS를 다시 연산하고, 레이아웃을 구성하고, 페이지를 리페인트한다. 이 과정에서 시간이 허비된다.

### Virtual DOM

**Virtual DOM**을 사용하면 실제 DOM에 접근하여 조작하는 대신, 이를 추상화한 자바스크립트 객체를 구성하여 사용한다.

1. 데이터를 업데이트하면 전체 UI를 Virtual DOM에 리렌더링한다.
2. 이전 Virtual DOM에 있던 내용과 현재 내용을 비교한다.
3. 바뀐 부분만 실제 DOM에 적용한다.

Virtual DOM을 사용한다고 해서 사용하지 않을 때와 비교하여 무조건 빠르다는 것은 아니다. **‘지속적으로 데이터가 변화하는 대규모 애플리케이션 구축하기’**와 같은 ****결국에는 적절한 곳에 사용해야 리액트가 가진 진가를 비로소 발휘할 수 있다.

## 작업 환경 설정 (Windows 기준)

---

Node.js / npm, yarn 설치 → 코드 에디터 설치 → Git 설치 → create-react-app으로 프로젝트 만들기

### Node.j와 npm

Node.js는 크롬 V8 자바스크립트 엔진으로 빌드한 자바스크립트 런타임이다. 이것으로 웹 브라우저 환경이 아닌 곳에서도 자바스크립트를 사용하여 연산할 수 있다. 또한 Node.js를 사용하여 백엔드 서버를 구현할 수 있다.

Node.js를 설치하면 패키지 매니저 도구인 npm이 설치된다. npm으로 수많은 갭라자가 만든 패키지를 설치하고 설치한 패키지의 버전을 관리할 수 있다. 리액트 역시 하나의 패키지이다.

- [https://nodejs.org/ko/download](https://nodejs.org/ko/download)
    
    ![Untitled](%5B1%5D%20%E1%84%85%E1%85%B5%E1%84%8B%E1%85%A2%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%89%E1%85%B5%E1%84%8C%E1%85%A1%E1%86%A8%20220977d3ce054826a0fa8760a85df98a/Untitled.png)
    

명령 프롬프트 창을 열고 `node -v` 명령어 입력하여 설치 확인

### yarn

yarn은 npm을 대체할 수 있는 도구로 npm보다 더 빠르며 효율적인 캐시 시스템과 기타 부가 기능을 제공한다.

- [https://yarnpkg.com/en/docs/install#windows-stable](https://yarnpkg.com/en/docs/install#windows-stable)
    
    `npm install --global yarn` 을 입력하여 설치
    

명령 프롬프트 창을 열고 `yarn --version` 명령어 입력하여 설치 확인

### Git 설치

Git은 형상 고나리 도구로 프로젝트 버전을 관리하고 협업을 할 때 매우 핵심적인 역할을 한다.

- [https://git-scm.com/download](https://git-scm.com/download)

명령 프롬프트 창을 열고 `git --version` 명령어 입력하여 설치 확인

`git clone https://github.com/git/git` 명령어를 입력하여 최신 버전 업데이트 

### create-react-app으로 프로젝트 생성하기

create-react-app은 리액트 프로젝트를 생성할 때 필요한 웹팩, 바벨의 설치 및 설정 과정을 생략하고 바로 간편하게 프로젝트 작업 환경을 구축해 주는 도구이다.

프로젝트를 만들고 싶은 디렉터리에서  명령어를 실행한다.

- yarn : `yarn create react-app <프로젝트 이름>`
- npm : `npm init react-app <프로젝트 이름>`

프로젝트 생성이 완료되었다면 다음 명령어를 입력하여 리액트 개발 전용 서버를 구동하면 된다.

`cd hello-react`

`yarn start`

![Untitled](%5B1%5D%20%E1%84%85%E1%85%B5%E1%84%8B%E1%85%A2%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%89%E1%85%B5%E1%84%8C%E1%85%A1%E1%86%A8%20220977d3ce054826a0fa8760a85df98a/Untitled%201.png)
